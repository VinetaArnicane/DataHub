---
version: '3.8'
services:
  zookeeper:
    image: confluentinc/cp-zookeeper:5.4.0
    env_file: zookeeper/env/docker.env
    hostname: test_zookeeper
    ports:
      - "52181:2181"
    volumes:
      - zkdata:/var/opt/zookeeper

  broker:
    image: confluentinc/cp-kafka:5.4.0
    env_file: broker/env/docker.env
    hostname: test_broker
    container_name: test_broker
    depends_on:
      - zookeeper
    ports:
      - "49092:29092"
      - "59092:9092"

  schema-registry:
    image: confluentinc/cp-schema-registry:5.4.0
    env_file: schema-registry/env/docker.env
    hostname: test_schema-registry
    depends_on:
      - zookeeper
      - broker
    ports:
      - "58081:8081"

volumes:
    zkdata:
    


<div class="tab-body">
  <section class="ownership-actions">
    <button class="nacho-button nacho-button--large-inverse"
            title={{if ownershipIsInvalid
                       "Need at least two confirmed owners to make changes
                       and no Invalid users"
                       "Save"}}
              disabled={{ownershipIsInvalid}}
      {{action "updateOwners"}}>
      Save
    </button>

    <button class="nacho-button nacho-button--large"
      {{action "addOwner" owners}}>
      <i class="fa fa-plus" title="Add an Owner">
      </i>
      Add an Owner
    </button>
  </section>

  <div class="alert alert-info" role="alert">
    <p>
      Please note that to make any update the list of owners for this dataset,
      there needs to be:
    </p>

    <p>At <strong>least</strong> two (2) confirmed owners who are both</p>

    <ul>
      <li>
        of ID Type <code>USER</code>
      </li>
      <li>
        of Owner Type <code>Owner</code>
      </li>
    </ul>
    <br>
    <p>
      Only owners that are not sourced from <code>SCM</code> can be removed
      from this list. To remove any such owner(s), please make the change at the
      source.</p>
  </div>

  {{#if errorMessage}}
    <div class="alert alert-danger" role="alert">{{errorMessage}}</div>
  {{/if}}

  {{#if actionMessage}}
    <div class="alert alert-success" role="alert">{{actionMessage}}</div>
  {{/if}}

  <table class="nacho-table nacho-table--bordered">
    <thead>
    <tr>
      <th>User Name</th>
      <th>Full Name</th>
      <th>ID Type</th>
      <th>Source</th>
      <th>
        Owner Type

        <!--TODO: DSS-6716-->
        <!-- DRY out with wrapper component that takes the link as an attribute-->
        <a
          target="_blank"
          href="https://iwww.corp.linkedin.com/wiki/cf/display/DWH/Metadata+Acquisition#ProjectOverview-ownership">
          <sup>
        <span class="glyphicon glyphicon-question-sign"
              title="Link to more information"></span>
          </sup>
        </a>
      </th>
      <th>Confirm?</th>
      <th>Remove</th>
    </tr>
    </thead>
    <tbody data-attribute="owner-table">
    {{#each owners as |owner|}}
      <tr class="dataset-author-row">
        <td class="dataset-author-cell"
            onclick={{action "willEditUserName"
                             value="currentTarget.classList"}}>
          <label class="dataset-author-cell__name-tag">
            {{owner.userName}}
          </label>
          {{aupac-typeahead
            action=(action "editUserName" owner)
            autoFocus=true
            source=userNamesResolver
            async=true
            limit=10
            minLength=2
            placeholder="Find username"
            title="username"
            class="form-control dataset-author-cell__user-name"}}
        </td>
        <td>{{owner.name}}</td>
        <td>{{owner.idType}}</td>
        <td>{{owner.source}}</td>
        <td>
          {{ember-selector
            values=ownerTypes
            selected=owner.type
            change=(action "updateOwnerType" owner)}}
        </td>
        <td>
          {{input
            type="checkbox"
            title=(if owner.confirmedBy owner.confirmedBy "Not confirmed")
            checked=(readonly owner.confirmedBy)
            change=(action "confirmOwner" owner)}}
        </td>

        <td>
          <button class="nacho-button nacho-button--small"
                  title={{if (eq owner.source "SCM")
                             "Owners sourced from SCM should be removed directly from SCM"
                             "Remove"}}
                    disabled={{eq owner.source "SCM"}}
            {{action "removeOwner" owner}}>
            <i class="fa fa-trash"
               aria-label="Remove Owner"></i>
          </button>
        </td>
      </tr>
    {{/each}}
    </tbody>
  </table>
</div>

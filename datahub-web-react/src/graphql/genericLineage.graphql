fragment shallowLineageFields on EntityWithLineage {
    downstreamLineage {
        entities {
            entity {
                urn
                type
            }
        }
    }
    upstreamLineage {
        entities {
            entity {
                urn
                type
            }
        }
    }
}

fragment deepLineageFields on EntityWithLineage {
    downstreamLineage {
        ...relationshipsFields
    }
    upstreamLineage {
        ...relationshipsFields
    }
}

fragment relationshipsFields on EntityRelationships {
    entities {
        entity {
            urn
            type
            ... on DataJob {
                ...dataJobFields
                ...shallowLineageFields
            }
            ... on Dashboard {
                ...dashboardFields
                ...shallowLineageFields
            }
            ... on Chart {
                tool
                chartId
                info {
                    name
                    description
                    inputs {
                        urn
                    }
                }
                ...shallowLineageFields
            }
            ... on Dataset {
                urn
                name
                description
                platform {
                    name
                    info {
                        logoUrl
                    }
                }
                ...shallowLineageFields
            }
        }
    }
}

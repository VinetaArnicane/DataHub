plugins {
    id 'org.springframework.boot'
    id 'java'
}

dependencies {
    implementation project(':metadata-service:factories')
    implementation project(':metadata-jobs:mce-consumer')
    implementation project(':entity-registry')

    implementation(externalDependency.springBootStarterWeb) {
        exclude module: "spring-boot-starter-tomcat"
    }
    implementation externalDependency.springBootStarterJetty
    implementation externalDependency.springKafka
    implementation spec.product.pegasus.restliDocgen
    implementation spec.product.pegasus.restliSpringBridge
    implementation externalDependency.slf4jApi
    implementation externalDependency.log4j2Api
    compileOnly externalDependency.lombok
    implementation externalDependency.logbackClassic

    runtime externalDependency.mariadbConnector
    runtime externalDependency.mysqlConnector
    runtime externalDependency.postgresql

    annotationProcessor externalDependency.lombok

    testImplementation externalDependency.springBootTest
    testCompile externalDependency.mockito
    testCompile externalDependency.testng
}

bootJar {
    mainClassName = 'com.linkedin.metadata.kafka.MceConsumerApplication'
    requiresUnpack '**/restli-servlet-impl.jar'
}